{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/bitcoin.service\";\nimport * as i2 from \"src/app/services/user.service\";\nimport * as i3 from \"src/app/services/contact.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../cmps/chart/chart.component\";\n\nfunction StatisticsPageComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 14)(1, \"p\");\n    i0.ÉµÉµtext(2, \"hello\");\n    i0.ÉµÉµelementEnd()();\n  }\n}\n\nfunction StatisticsPageComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 15)(1, \"div\", 16)(2, \"li\");\n    i0.ÉµÉµtext(3, \"40,000\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(4, \"li\");\n    i0.ÉµÉµtext(5, \"38,000\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(6, \"li\");\n    i0.ÉµÉµtext(7, \"36,000\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(8, \"li\");\n    i0.ÉµÉµtext(9, \"34,000\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(10, \"li\");\n    i0.ÉµÉµtext(11, \"32,000\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(12, \"li\");\n    i0.ÉµÉµtext(13, \"30,000\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(14, \"li\");\n    i0.ÉµÉµtext(15, \"28,000\");\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelement(16, \"chart\", 17);\n    i0.ÉµÉµelementStart(17, \"div\", 18)(18, \"li\");\n    i0.ÉµÉµtext(19);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(20, \"li\");\n    i0.ÉµÉµtext(21);\n    i0.ÉµÉµelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance(16);\n    i0.ÉµÉµproperty(\"marketData\", ctx_r1.newMarketData)(\"marketTableTitle\", ctx_r1.marketTableTitle);\n    i0.ÉµÉµadvance(3);\n    i0.ÉµÉµtextInterpolate(ctx_r1.formatMonth(ctx_r1.currMonth));\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate(ctx_r1.formatMonth(ctx_r1.currMonth + 1));\n  }\n}\n\nfunction StatisticsPageComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 19)(1, \"div\", 2)(2, \"h1\", 20);\n    i0.ÉµÉµtext(3);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(4, \"div\", 21);\n    i0.ÉµÉµelement(5, \"img\", 22);\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(6, \"div\", 23);\n    i0.ÉµÉµtext(7);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(8, \"div\", 24);\n    i0.ÉµÉµtext(9);\n    i0.ÉµÉµpipe(10, \"date\");\n    i0.ÉµÉµelementEnd()();\n  }\n\n  if (rf & 2) {\n    const transaction_r3 = ctx.$implicit;\n    i0.ÉµÉµadvance(3);\n    i0.ÉµÉµtextInterpolate1(\" \", transaction_r3.to, \" \");\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµpropertyInterpolate1(\"src\", \"https://robohash.org/\", transaction_r3.to, \"?set=set5\", i0.ÉµÉµsanitizeUrl);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate1(\" \", transaction_r3.amount, \" \");\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate1(\" \", i0.ÉµÉµpipeBind1(10, 4, transaction_r3.timestamp), \" \");\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"transform\": a0\n  };\n};\n\nexport let StatisticsPageComponent = /*#__PURE__*/(() => {\n  class StatisticsPageComponent {\n    constructor(bitcoinService, userService, contactService) {\n      this.bitcoinService = bitcoinService;\n      this.userService = userService;\n      this.contactService = contactService;\n    }\n\n    ngOnInit() {\n      this.getBitcoinRate();\n      this.bitcoinService.getMarketPrice().subscribe(result => this.filterMarketData(result)); // this.bitcoinService.getConfirmedTransactions()\n      //   .subscribe(result => this.filterTransactionsData(result));\n      //   this.currMonth = new Date().getMonth()\n\n      this.userService.getUser().subscribe(result => this.formatTransactions(result));\n      this.slideCount = 0;\n    }\n\n    filterMarketData(result) {\n      this.newMarketData = this._filterData(result);\n      this.marketTableTitle = result.name + ' - ' + result.description;\n    }\n\n    formatTransactions(res) {\n      const formattedTransactions = res.transactions.map(trans => {\n        return trans;\n      });\n      console.log(\"ğŸš€ ~ file: statistics-page.component.ts ~ line 49 ~ StatisticsPageComponent ~ formattedTransactions ~ formattedTransactions\", formattedTransactions);\n      this.userTransactions = formattedTransactions;\n    }\n\n    _filterData(result) {\n      return result.values.map(value => {\n        const options = {\n          year: '21',\n          month: '11',\n          day: '11'\n        };\n        let date = new Date(value.x * 1000); // .toLocaleDateString(undefined, options);\n\n        let bitCoinRate = value.y;\n        return [date, bitCoinRate];\n      });\n    }\n\n    getBitcoinRate() {\n      this.bitcoinSubscription = this.bitcoinService.getBitCoinRate().subscribe(rate => this.rate = +(1 / rate).toFixed(2));\n    }\n\n    formatMonth(monthToFormat) {\n      const months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n      return months[monthToFormat];\n    }\n\n    goToSlide(number) {\n      this.slideCount = number;\n    }\n\n    handleSlideCount(diff) {\n      this.slideCount = +diff;\n      if (this.slideCount > 1 || this.slideCount < 0) this.slideCount = 0;\n    }\n\n  }\n\n  StatisticsPageComponent.Éµfac = function StatisticsPageComponent_Factory(t) {\n    return new (t || StatisticsPageComponent)(i0.ÉµÉµdirectiveInject(i1.BitcoinService), i0.ÉµÉµdirectiveInject(i2.UserService), i0.ÉµÉµdirectiveInject(i3.ContactService));\n  };\n\n  StatisticsPageComponent.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n    type: StatisticsPageComponent,\n    selectors: [[\"statistics-page\"]],\n    decls: 22,\n    vars: 9,\n    consts: [[\"class\", \"flex loading-container\", 4, \"ngIf\"], [1, \"statistics-page-container\"], [1, \"header\"], [1, \"statistics-page-content\"], [1, \"carousel-viewport\"], [1, \"carousel-track\", 3, \"ngStyle\"], [\"class\", \"chart-container slide\", 4, \"ngIf\"], [1, \"last-transactions\", \"slide\"], [1, \"transactions-container\"], [\"class\", \"transactions\", 4, \"ngFor\", \"ngForOf\"], [1, \"carousel-indicator\"], [1, \"carousel-btn\", 3, \"click\"], [1, \"indicator-dots\"], [1, \"indicator-dot\", 3, \"ngClass\", \"click\"], [1, \"flex\", \"loading-container\"], [1, \"chart-container\", \"slide\"], [1, \"chart-sidebar\"], [1, \"chart-content\", 3, \"marketData\", \"marketTableTitle\"], [1, \"chart-bottom-bar\"], [1, \"transactions\"], [1, \"name\"], [1, \"image-container\"], [\"alt\", \"\", 3, \"src\"], [1, \"content\"], [1, \"footer\"]],\n    template: function StatisticsPageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ÉµÉµtemplate(0, StatisticsPageComponent_div_0_Template, 3, 0, \"div\", 0);\n        i0.ÉµÉµelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\");\n        i0.ÉµÉµtext(4, \"Bitcoin Market Chart\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(5, \"h1\");\n        i0.ÉµÉµtext(6);\n        i0.ÉµÉµelementEnd()();\n        i0.ÉµÉµelementStart(7, \"div\", 3)(8, \"div\", 4)(9, \"div\", 5);\n        i0.ÉµÉµtemplate(10, StatisticsPageComponent_div_10_Template, 22, 4, \"div\", 6);\n        i0.ÉµÉµelementStart(11, \"div\", 7)(12, \"div\", 8);\n        i0.ÉµÉµtemplate(13, StatisticsPageComponent_div_13_Template, 11, 6, \"div\", 9);\n        i0.ÉµÉµelementEnd()()()();\n        i0.ÉµÉµelementStart(14, \"div\", 10)(15, \"span\", 11);\n        i0.ÉµÉµlistener(\"click\", function StatisticsPageComponent_Template_span_click_15_listener() {\n          return ctx.handleSlideCount(1);\n        });\n        i0.ÉµÉµtext(16, \"NEXT\");\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(17, \"div\", 12)(18, \"span\", 13);\n        i0.ÉµÉµlistener(\"click\", function StatisticsPageComponent_Template_span_click_18_listener() {\n          return ctx.goToSlide(0);\n        });\n        i0.ÉµÉµelementEnd();\n        i0.ÉµÉµelementStart(19, \"span\", 13);\n        i0.ÉµÉµlistener(\"click\", function StatisticsPageComponent_Template_span_click_19_listener() {\n          return ctx.goToSlide(1);\n        });\n        i0.ÉµÉµelementEnd()();\n        i0.ÉµÉµelementStart(20, \"span\", 11);\n        i0.ÉµÉµlistener(\"click\", function StatisticsPageComponent_Template_span_click_20_listener() {\n          return ctx.handleSlideCount(-1);\n        });\n        i0.ÉµÉµtext(21, \"BACK\");\n        i0.ÉµÉµelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ÉµÉµproperty(\"ngIf\", !ctx.newMarketData && !ctx.marketTableTitle);\n        i0.ÉµÉµadvance(6);\n        i0.ÉµÉµtextInterpolate1(\"1 BTC = \", ctx.rate, \"USD\");\n        i0.ÉµÉµadvance(3);\n        i0.ÉµÉµproperty(\"ngStyle\", i0.ÉµÉµpureFunction1(7, _c0, \"translateX(-\" + ctx.slideCount * 50 + \"%)\"));\n        i0.ÉµÉµadvance(1);\n        i0.ÉµÉµproperty(\"ngIf\", ctx.newMarketData && ctx.newMarketData);\n        i0.ÉµÉµadvance(3);\n        i0.ÉµÉµproperty(\"ngForOf\", ctx.userTransactions);\n        i0.ÉµÉµadvance(5);\n        i0.ÉµÉµproperty(\"ngClass\", ctx.slideCount === 0 ? \"active-dot\" : \"\");\n        i0.ÉµÉµadvance(1);\n        i0.ÉµÉµproperty(\"ngClass\", ctx.slideCount === 1 ? \"active-dot\" : \"\");\n      }\n    },\n    directives: [i4.NgIf, i4.NgStyle, i5.ChartComponent, i4.NgForOf, i4.NgClass],\n    pipes: [i4.DatePipe],\n    styles: [\".statistics-page-container[_ngcontent-%COMP%]{display:flex;height:80vh;width:100%;flex-direction:column;overflow-x:scroll}.statistics-page-container[_ngcontent-%COMP%]   .chart-sidebar[_ngcontent-%COMP%]{grid-area:s-b;font-family:AvenirRoman;color:gold;text-align:center;display:flex;justify-content:space-between;flex-direction:column}.statistics-page-container[_ngcontent-%COMP%]   .chart-content[_ngcontent-%COMP%]{grid-area:content}.statistics-page-container[_ngcontent-%COMP%]   .chart-bottom-bar[_ngcontent-%COMP%]{grid-area:b-b;display:flex;justify-content:space-around;color:gold;align-items:center}.statistics-page-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:gold;font-size:2.5rem;background-color:#ffffff17;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);font-family:AvenirHeavy;text-align:center}.carousel-track[_ngcontent-%COMP%]{width:200%;height:100%;display:flex;position:relative;transition:.3s ease-out}.carousel-viewport[_ngcontent-%COMP%]{width:100%;height:80%;position:relative;transition:.3s ease-out;overflow-x:hidden}.carousel-indicator[_ngcontent-%COMP%]{height:10%;width:100%;color:#fff;font-size:30px;display:flex;justify-content:space-around;z-index:0;align-items:center}.carousel-indicator[_ngcontent-%COMP%]   .indicator-dots[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:10%}.carousel-indicator[_ngcontent-%COMP%]   .indicator-dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;display:block;background-color:gold;opacity:.7;cursor:pointer;transition:.3s all}.carousel-indicator[_ngcontent-%COMP%]   .active-dot[_ngcontent-%COMP%]{opacity:1;width:20px;height:20px;background-color:gold;transition:.3s all}.statistics-page-content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}.slide[_ngcontent-%COMP%]{width:50%;height:100%;position:absolute}.chart-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:.6fr 9fr;grid-template-rows:9fr 1fr;grid-template-areas:\\\"s-b content\\\" \\\"b-b b-b\\\";place-items:stretch;background-color:#ffffff17;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.transactions-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%;gap:10px;justify-content:center}.transactions[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr 1fr 1fr;width:15rem;aspect-ratio:15/9;justify-items:center;background-color:#ffffff17;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);margin-bottom:1rem}.transactions[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{height:5rem;width:5rem;text-align:center;display:flex;justify-content:center;align-items:center}.transactions[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;aspect-ratio:1/1;border-radius:50%}.transactions[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex-direction:column;display:flex;align-items:center;justify-content:center}.transactions[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:2rem;color:gold;font-family:AvenirRoman;font-size:1rem}.transactions[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.5rem;font-family:AvenirHeavy;color:#fff;padding:.5rem}.transactions[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{color:#fff;display:flex;width:100%;text-align:center;justify-content:center;font-family:AvenirRoman;font-size:1rem}.last-transactions[_ngcontent-%COMP%]{min-width:50%;min-height:80%;background-color:#ffffff17;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);position:absolute;right:0}.loading-container[_ngcontent-%COMP%]{align-self:center;justify-self:center}@media screen and (max-width: 575px){[_nghost-%COMP%]{align-items:flex-start}.chart-container[_ngcontent-%COMP%]{height:350px}}.carousel-btn[_ngcontent-%COMP%]{cursor:pointer}\"]\n  });\n  return StatisticsPageComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}